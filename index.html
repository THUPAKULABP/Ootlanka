
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Ootlanka Saga 2026</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Ramabhadra&family=Great+Vibes&family=Montserrat:wght@300;600&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --gold: #FFD700;
            --gold-glow: rgba(255, 215, 0, 0.8);
            --jungle-dark: #020a05;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background-color: var(--jungle-dark); 
            color: white; 
            font-family: 'Montserrat', sans-serif; 
            overflow-x: hidden;
            width: 100%;
        }

        #scroll-progress {
            position: fixed; top: 0; left: 0; width: 0%; height: 4px;
            background: var(--gold); z-index: 10001; box-shadow: 0 0 10px var(--gold);
        }

        /* --- BACKGROUND SCENERY --- */
        #snow-canvas, #fire-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .moon { 
            position: fixed; top: 40px; right: 40px; width: 80px; height: 80px; 
            background: radial-gradient(circle, #fff 0%, #aaa 100%); 
            border-radius: 50%; box-shadow: 0 0 50px #e0f7fa; z-index: -2; opacity: 0.6; 
        }

        .vine-corner {
            position: fixed; top: 0; width: 150px; height: 150px; 
            background-image: url('https://www.transparentpng.com/download/leaves/green-leaves-png-images-9.png');
            background-size: contain; background-repeat: no-repeat;
            z-index: 2000; pointer-events: none; opacity: 0.5; filter: brightness(0.7);
        }
        .v-left { left: 0; }
        .v-right { right: 0; transform: scaleX(-1); }

        /* --- INTRO FIX --- */
        #intro-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 10000; display: flex;
            justify-content: center; align-items: center; flex-direction: column;
            transition: opacity 0.8s ease;
        }

        .envelope {
            width: 280px; height: 180px; background: #1a1a1a;
            border: 2px solid var(--gold); position: relative;
            cursor: pointer; border-radius: 10px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.9);
            display: flex; justify-content: center; align-items: center;
        }

        .wax-seal {
            width: 70px; height: 70px; background: #b00;
            border-radius: 50%; border: 3px solid var(--gold);
            display: flex; justify-content: center; align-items: center;
            font-family: 'Great Vibes'; color: var(--gold); font-size: 1.8rem;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
        }

        /* --- LANGUAGE GATE FIX --- */
        #language-gate {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 9500; display: none;
            flex-direction: column; justify-content: center; align-items: center;
        }

        .lang-btn {
            background: #111; border: 2px solid var(--gold); color: var(--gold) !important;
            padding: 20px 40px; margin: 15px; font-size: 1.4rem;
            font-family: 'Ramabhadra', 'Cinzel Decorative'; cursor: pointer;
            width: 280px; border-radius: 12px; text-transform: uppercase;
            text-align: center; box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
            display: block; opacity: 1 !important; visibility: visible !important;
        }

        /* --- MAIN APP --- */
        #main-content { position: relative; z-index: 10; display: none; opacity: 0; padding-bottom: 80px; }

        .hero { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; }
        
        .vip-photo-circle {
            width: 160px; height: 160px; border-radius: 50%; border: 4px solid var(--gold);
            margin-bottom: 20px; display: none; overflow: hidden; box-shadow: 0 0 30px var(--gold-glow);
        }
        .vip-photo-circle img { width: 100%; height: 100%; object-fit: cover; }

        .cinematic-title {
            font-family: 'Cinzel Decorative'; font-size: 2.8rem;
            background: linear-gradient(to bottom, #fff, var(--gold));
            -webkit-background-clip: text; color: transparent; line-height: 1.1;
        }

        /* --- CARDS & FLOWERS --- */
        .card-container { perspective: 1000px; margin: 40px 15px; }
        .card {
            background: rgba(0, 15, 5, 0.9); border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px; padding: 30px; position: relative;
            transform: translateY(50px) rotateX(10deg); opacity: 0; transition: 0.8s ease-out;
        }
        .card.visible { transform: translateY(0) rotateX(0); opacity: 1; }

        .flower-icon {
            position: absolute; left: -15px; top: -15px; font-size: 2.5rem;
            filter: drop-shadow(0 0 10px var(--gold));
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        .card-h { font-family: 'Cinzel Decorative'; font-size: 1.4rem; color: var(--gold); margin-bottom: 12px; }
        .card-p { font-size: 1rem; line-height: 1.6; color: #ddd; }
        .accent { color: #00ffcc; font-weight: bold; }

        /* --- ADMIN --- */
        #admin-panel { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 20000; padding: 30px; overflow-y: auto; }
        .adm-input { width: 100%; padding: 15px; margin-bottom: 15px; background: #111; border: 1px solid #444; color: white; border-radius: 8px; }
        .adm-btn { width: 100%; padding: 15px; background: var(--gold); font-weight: bold; border-radius: 8px; border: none; cursor: pointer; }

        footer { text-align: center; padding: 60px; color: #444; font-family: 'Cinzel Decorative'; cursor: pointer; }
    </style>
</head>
<body>

    <div id="scroll-progress"></div>
    <audio id="bgm-audio" loop preload="auto"><source src="https://cdn.pixabay.com/download/audio/2022/10/25/audio_10842a2754.mp3?filename=dark-mystery-trailer-115629.mp3" type="audio/mpeg"></audio>
    <audio id="sfx-magic" preload="auto"><source src="https://cdn.pixabay.com/download/audio/2022/03/24/audio_3d15442656.mp3?filename=magic-spell-6005.mp3" type="audio/mpeg"></audio>

    <div class="moon"></div>
    <div class="vine-corner v-left"></div>
    <div class="vine-corner v-right"></div>
    <canvas id="snow-canvas"></canvas>
    <canvas id="fire-canvas"></canvas>

    <div id="intro-overlay" onclick="openEnvelope()">
        <div class="envelope">
            <div class="wax-seal">2026</div>
        </div>
        <p style="margin-top:30px; color:var(--gold); font-family:'Cinzel Decorative'; letter-spacing:2px; animation: pulse 2s infinite;">TAP TO OPEN</p>
    </div>

    <div id="language-gate">
        <h2 style="color:white; margin-bottom:30px; font-family:'Cinzel Decorative';">CHOOSE LANGUAGE</h2>
        <button class="lang-btn" onclick="setLanguage('en')">English</button>
        <button class="lang-btn" onclick="setLanguage('te')">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
    </div>

    <div id="main-content">
        <section class="hero">
            <div class="vip-photo-circle" id="vip-frame"><img id="vip-photo" src=""></div>
            <p id="guest-welcome" style="color:var(--gold); font-family:'Great Vibes'; font-size:2rem;"></p>
            <h1 class="cinematic-title">FOREST PARTY<br>SAGA 2026</h1>
            <p style="letter-spacing:5px; font-size:0.8rem; margin-top:10px;">OOTLANKA | DEC 31</p>
        </section>

        <div class="card-container"><div class="card"><div class="flower-icon">üå∏</div><h2 class="card-h" id="h-jour"></h2><div class="card-p" id="p-jour"></div></div></div>
        <div class="card-container"><div class="card"><div class="flower-icon">üå∫</div><h2 class="card-h" id="h-cook"></h2><div class="card-p" id="p-cook"></div></div></div>
        <div class="card-container"><div class="card"><div class="flower-icon">üåª</div><h2 class="card-h" id="h-party"></h2><div class="card-p" id="p-party"></div></div></div>
        <div class="card-container"><div class="card"><div class="flower-icon">‚ú®</div><h2 class="card-h" id="h-nye"></h2><div class="card-p" id="p-nye"></div></div></div>
        <div class="card-container"><div class="card" style="border-left:4px solid red;"><h2 class="card-h" id="h-rules" style="color:red"></h2><div class="card-p" id="p-rules"></div></div></div>

        <footer id="admin-trigger">¬© 2026 OOTLANKA FRIENDS</footer>
    </div>

    <div id="admin-panel">
        <h2 style="color:var(--gold); margin-bottom:20px;">Admin Panel</h2>
        <input type="text" id="adm-name" class="adm-input" placeholder="Guest Name">
        <p style="color:#888; font-size:0.8rem; margin-bottom:5px;">Option 1: Image URL (Recommended for WhatsApp)</p>
        <input type="text" id="adm-url-input" class="adm-input" placeholder="https://image-link.com/photo.jpg">
        <p style="color:#888; font-size:0.8rem; margin-bottom:5px;">Option 2: Upload File</p>
        <input type="file" id="adm-file" class="adm-input" accept="image/*">
        <button class="adm-btn" onclick="generateLink()">Generate Link</button>
        <textarea id="result-link" class="adm-input" style="margin-top:20px; height:80px; display:none;"></textarea>
        <button id="copy-btn" class="adm-btn" style="display:none; background:#444;" onclick="copyLink()">Copy Link</button>
        <button onclick="document.getElementById('admin-panel').style.display='none'" style="margin-top:20px; background:none; color:#888; width:100%; border:none;">Close</button>
    </div>

    <script>
        const content = {
            en: {
                wel: "Welcome, ",
                h_jour: "THE PILGRIMAGE", p_jour: "Bikes park at Venkojigaripalle. <span class='accent'>TRACTOR CONVOY:</span> 20 Members, One Tractor. Pure Thrill!",
                h_cook: "WINTER FEAST", p_cook: "7:30 PM: Wood-fire cooking (Chapati & Chicken). 9:45 PM: Forest Dinner.",
                h_party: "THE SPECTACLE", p_party: "10:30 PM: DJ Lights & Open Mic. Share your 2025 memories!",
                h_nye: "2026 AWAKENING", p_nye: "12:00 AM: Cake Cutting! 2:00 AM: Round 2 Biryani & Pakoda.",
                h_rules: "RULES", p_rules: "No Fighting. No Over-drinking. Brotherhood Only. Entry: Min ‚Çπ300."
            },
            te: {
                wel: "‡∞∏‡±ç‡∞µ‡∞æ‡∞ó‡∞§‡∞Ç, ",
                h_jour: "‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞Ç", p_jour: "‡∞¨‡±à‡∞ï‡±ç‡∞∏‡±ç ‡∞µ‡±Ü‡∞Ç‡∞ï‡±ã‡∞ú‡∞ø‡∞ó‡∞æ‡∞∞‡∞ø‡∞™‡∞≤‡±ç‡∞≤‡±Ü‡∞≤‡±ã ‡∞â‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø. <span class='accent'>‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç ‡∞Ø‡∞æ‡∞§‡±ç‡∞∞:</span> ‡∞Ö‡∞Ç‡∞¶‡∞∞‡∞Ç ‡∞í‡∞ï‡±á ‡∞ü‡±ç‡∞∞‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç‡∞≤‡±ã ‡∞Ö‡∞°‡∞µ‡∞ø‡∞ï‡∞ø!",
                h_cook: "‡∞µ‡∞® ‡∞µ‡∞ø‡∞Ç‡∞¶‡±Å", p_cook: "7:30 PM: ‡∞ö‡∞™‡∞æ‡∞§‡±Ä & ‡∞ï‡±ã‡∞°‡∞ø ‡∞ï‡±Ç‡∞∞ ‡∞§‡∞Ø‡∞æ‡∞∞‡±Ä. 9:45 PM: ‡∞≠‡±ã‡∞ú‡∞®‡∞æ‡∞≤‡±Å.",
                h_party: "‡∞∏‡∞Ç‡∞¨‡∞∞‡∞æ‡∞≤‡±Å", p_party: "10:30 PM: DJ & ‡∞ì‡∞™‡±Ü‡∞®‡±ç ‡∞Æ‡±à‡∞ï‡±ç. 2025 ‡∞ú‡±ç‡∞û‡∞æ‡∞™‡∞ï‡∞æ‡∞≤‡±Å ‡∞™‡∞Ç‡∞ö‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç!",
                h_nye: "‡∞®‡±Ç‡∞§‡∞® ‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞Ç", p_nye: "12:00 AM: ‡∞ï‡±á‡∞ï‡±ç ‡∞ï‡∞ü‡∞ø‡∞Ç‡∞ó‡±ç! 2:00 AM: ‡∞¨‡∞ø‡∞∞‡±ç‡∞Ø‡∞æ‡∞®‡±Ä & ‡∞™‡∞ï‡±ã‡∞°‡∞æ ‡∞™‡∞æ‡∞∞‡±ç‡∞ü‡±Ä.",
                h_rules: "‡∞®‡∞ø‡∞Ø‡∞Æ‡∞æ‡∞≤‡±Å", p_rules: "‡∞ó‡±ä‡∞°‡∞µ‡∞≤‡±Å ‡∞µ‡∞¶‡±ç‡∞¶‡±Å. ‡∞ó‡±å‡∞∞‡∞µ‡∞Ç‡∞ó‡∞æ ‡∞™‡∞æ‡∞∞‡±ç‡∞ü‡±Ä ‡∞ö‡±á‡∞∏‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç. ‡∞ö‡∞Ç‡∞¶‡∞æ: ‡∞ï‡∞®‡±Ä‡∞∏‡∞Ç ‚Çπ300."
            }
        };

        let uploadedImg = "";

        function openEnvelope() {
            try { document.getElementById('sfx-magic').play(); } catch(e){}
            const overlay = document.getElementById('intro-overlay');
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
                document.getElementById('language-gate').style.display = 'flex';
            }, 800);
        }

        function setLanguage(lang) {
            try { let a = document.getElementById('bgm-audio'); a.volume = 0.3; a.play(); } catch(e){}
            const t = content[lang];
            const params = new URLSearchParams(window.location.search);
            const guest = params.get('guest');
            const pic = params.get('pic');

            if(guest) document.getElementById('guest-welcome').innerText = t.wel + decodeURIComponent(guest);
            if(pic) { document.getElementById('vip-frame').style.display = 'block'; document.getElementById('vip-photo').src = decodeURIComponent(pic); }

            document.getElementById('h-jour').innerText = t.h_jour; document.getElementById('p-jour').innerHTML = t.p_jour;
            document.getElementById('h-cook').innerText = t.h_cook; document.getElementById('p-cook').innerHTML = t.p_cook;
            document.getElementById('h-party').innerText = t.h_party; document.getElementById('p-party').innerHTML = t.p_party;
            document.getElementById('h-nye').innerText = t.h_nye; document.getElementById('p-nye').innerHTML = t.p_nye;
            document.getElementById('h-rules').innerText = t.h_rules; document.getElementById('p-rules').innerHTML = t.p_rules;

            document.getElementById('language-gate').style.display = 'none';
            const main = document.getElementById('main-content');
            main.style.display = 'block';
            setTimeout(() => { main.style.opacity = '1'; triggerAnimations(); }, 100);
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        }

        function triggerAnimations() {
            const cards = document.querySelectorAll('.card');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('visible'); });
            }, { threshold: 0.1 });
            cards.forEach(card => observer.observe(card));

            if(window.gsap) {
                gsap.to("#scroll-progress", { width: "100%", scrollTrigger: { scrub: 0.3 } });
            }
        }

        // FX
        function initFX() {
            const s = document.getElementById('snow-canvas'); const sx = s.getContext('2d');
            const f = document.getElementById('fire-canvas'); const fx = f.getContext('2d');
            s.width = f.width = window.innerWidth; s.height = f.height = window.innerHeight;
            let flakes = []; for(let i=0; i<50; i++) flakes.push({x:Math.random()*s.width, y:Math.random()*s.height, r:Math.random()*2, d:Math.random()*0.5+0.2});
            function anim() {
                sx.clearRect(0,0,s.width,s.height); sx.fillStyle="white"; sx.beginPath();
                flakes.forEach(p => { p.y+=p.d; if(p.y>s.height)p.y=0; sx.moveTo(p.x,p.y); sx.arc(p.x,p.y,p.r,0,Math.PI*2); });
                sx.fill(); requestAnimationFrame(anim);
            }
            anim();
        }
        initFX();

        // Admin
        let ac = 0; document.getElementById('admin-trigger').onclick = () => { ac++; if(ac==3){document.getElementById('admin-panel').style.display='block'; ac=0;} setTimeout(()=>ac=0,2000); };
        
        document.getElementById('adm-file').onchange = (e) => {
            const reader = new FileReader(); reader.readAsDataURL(e.target.files[0]);
            reader.onload = () => {
                const img = new Image(); img.src = reader.result;
                img.onload = () => {
                    const c = document.createElement('canvas'); const ctx = c.getContext('2d');
                    c.width = 150; c.height = 150; ctx.drawImage(img, 0,0,150,150);
                    uploadedImg = c.toDataURL('image/jpeg', 0.5);
                };
            };
        };

        function generateLink() {
            const name = document.getElementById('adm-name').value;
            const linkUrl = document.getElementById('adm-url-input').value;
            if(!name) return alert("Enter Name");
            let pic = linkUrl || uploadedImg;
            let final = window.location.href.split('?')[0] + "?guest=" + encodeURIComponent(name);
            if(pic) final += "&pic=" + encodeURIComponent(pic);
            document.getElementById('result-link').value = final;
            document.getElementById('result-link').style.display = 'block';
            document.getElementById('copy-btn').style.display = 'block';
        }

        function copyLink() { const t = document.getElementById('result-link'); t.select(); document.execCommand('copy'); alert("Copied!"); }
    </script>
</body>
</html>
